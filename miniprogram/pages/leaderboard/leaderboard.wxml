<view class="container">
  <view class="header">
    <view class="back-btn" bindtap="goBack">
      <text class="back-icon">â®</text>
      <text>è¿”å›</text>
    </view>
    <view class="header-title">æ’è¡Œæ¦œ</view>
  </view>

  <view class="ranking-list">
    <view class="list-header">
      <text class="col-rank">æ’å</text>
      <text class="col-name">é˜Ÿä¼</text>
      <text class="col-records">å‚èµ›è®°å½•</text>
      <text class="col-score">æ€»åˆ†</text>
    </view>

    <block wx:for="{{rankings}}" wx:key="teamId">
      <view class="list-item" bindtap="toggleDetail" data-index="{{index}}">
        <view class="main-info">
          <view class="col-rank">
            <text class="medal-text" wx:if="{{item.rank === 1}}">ğŸ¥‡</text>
            <text class="medal-text" wx:elif="{{item.rank === 2}}">ğŸ¥ˆ</text>
            <text class="medal-text" wx:elif="{{item.rank === 3}}">ğŸ¥‰</text>
            <text wx:else>{{item.rank}}</text>
          </view>
          <text class="col-name">{{item.teamName}}</text>
          <view class="col-records">
            <block wx:for="{{item.rounds}}" wx:for-item="round" wx:key="round">
              <view class="record-item">
                <text>R{{round.round}}: {{item.teamName}}({{round.score}}) VS {{round.opponent}}{{round.opponentScore ? '(' + round.opponentScore + ')' : ''}}</text>
              </view>
            </block>
            <text wx:if="{{item.rounds.length === 0}}" class="no-data-text">-</text>
          </view>
          <text class="col-score">{{item.totalScore}}</text>
        </view>
      </view>
    </block>
  </view>
  
  <button class="export-btn" bindtap="exportToExcel">å¯¼å‡ºExcel</button>
</view>
